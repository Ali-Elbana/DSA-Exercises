
**Video explanation by AI:** [Watch the video here](https://notebooklm.google.com/notebook/68a51878-3ce2-4a6e-ba12-62bb4ec9e31e?artifactId=98a5f209-607b-4a39-8ef7-408dadb0ec10)

---
### Binary Search Tree (BST) Implementation with Parent Pointers

This implementation provides a **template-based binary search tree** that supports any comparable data type. A key feature is the use of **parent pointers** within `TreeNode` objects, which simplifies tree manipulation, especially for deletion operations.

**The code reference:** [[9.2.2-Binary Search Tree - Delete - Code#Complete Code Implementation]]

---
**Core Components:**

- **`TreeNode<Tdata>` Class:**
    - Each `TreeNode` contains `Data` of type `Tdata`, pointers to its `Left` child, `Right` child, and its `Parent`.
    - The constructor initializes `Data` and sets `Left`, `Right`, and `Parent` to `nullptr`.
- **`BinaryTree<Tdata>` Class:**
    - Manages the `root` of the tree.
    - Includes **private helper methods** for internal operations like `destroyTree`, `getHeight`, various traversal helpers (`preOrderHelper`, `inOrderHelper`, `postOrderHelper`), `findHelper`, `findMin`, and `deleteNodeHelper`.
    - Provides **public methods** for common tree operations:
        - `Insert(Tdata _data)`: Adds a new node, updating parent pointers during insertion.
        - `Print()`: Displays a visual representation of the tree.
        - `preOrder()`, `inOrder()`, `postOrder()`: Performs tree traversals.
        - `find(const Tdata & _data)`: Searches for a specific element in the tree.
        - `deleteNode(Tdata _data)`: Removes a node containing the specified data.

**Deletion (`deleteNode` and `deleteNodeHelper`) Method Overview:**

The `deleteNode` method first calls `find` to locate the node to be deleted, then delegates the actual deletion logic to `deleteNodeHelper`. The `deleteNodeHelper` method handles different scenarios based on the number of children the `nodeToDelete` has. This approach simplifies the process by leveraging parent pointers and recursion.

The deletion process categorizes nodes into three main cases, as described in both the C++ implementation and the visual aids:

[![BST](G:\DSA\Slides\BST-Delete\s1.png)

1. **Node is a Leaf (No Children):**
    
    - If the node has no left or right children, it is simply **disconnected from its parent**.
    - If the leaf node is the root, the `root` pointer is set to `nullptr`.
    - Otherwise, the parent's `Left` or `Right` pointer (depending on whether the node was a left or right child) is set to `nullptr`.
    - The node's memory is then deallocated (`delete nodeToDelete`).
2. **Node Has One Child:**
    
    - This applies if the node has either a left child OR a right child, but not both.
    - The single child of `nodeToDelete` **replaces `nodeToDelete` in the tree structure**.
    - The child is connected to `nodeToDelete`'s parent.
    - The child's parent pointer is updated to point to `nodeToDelete`'s parent.
    - If `nodeToDelete` was the root, its child becomes the new `root`, and the child's parent pointer is set to `nullptr`.
    - The `nodeToDelete`'s memory is then deallocated.
3. **Node Has Two Children:**
    
    - This is the most complex case, where the node has both a left and a right child.
    - The algorithm identifies the **inorder successor** of `nodeToDelete`, which is the smallest node in its right subtree. This is found by moving to the right child once, then repeatedly moving to the left child until a node with no left child is found (`findMin` helper function).
    - The `Data` value of this **inorder successor is copied** into `nodeToDelete`.
    - After copying, the task effectively becomes **deleting the inorder successor**. This deletion is handled by a **recursive call to `deleteNodeHelper(successor)`**. Since an inorder successor (smallest in right subtree) will never have a left child (by definition), this recursive call will always fall into Case 1 (leaf) or Case 2 (one right child), never Case 4 again. This effectively removes the successor node from its original position while retaining the BST properties.


[![BST](G:\DSA\Slides\BST-Delete\s5.png)

[![BST](G:\DSA\Slides\BST-Delete\s6.png)

[![BST](G:\DSA\Slides\BST-Delete\s7.png)

---